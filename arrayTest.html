<!DOCTYPE html>

<!--

 TO DO:
Prevent splitTheBill from rounding up results that divide correctly.
Require at least one entry in NameAray before allowing submit



 -->

<html>

<body>
  <script type="text/javascript">
    var nameArray = []
    var costArray = []


    function addName() {
      var x = document.getElementById("box");
      nameArray.push(document.getElementById("inputName").value);
      x.innerHTML = nameArray.join('<br/>');
    }

    function addFoodItem() {
      var y = document.getElementById("boxCost");
      costArray.push(document.getElementById("inputCost").value);
      y.innerHTML = costArray.join('<br/>');

    }

    function subTotal(total, num) {
      return total + Math.round(num);
    }

    function addTip(subtotal) {
      var theTip = ((document.getElementById("tip").value)/100)
      return subtotal * theTip


    }

    function splitTheBill(item) {
      beforeTip = (costArray.reduce(subTotal, 0) / nameArray.length + .005);
      tipAmount = addTip(beforeTip)
      grandTotal = document.getElementById("sumTotal").innerHTML = "$" + (beforeTip+tipAmount).toFixed(2);
    }

    // Searches the document for the ID "sumTotal", then sets the inner HTML content of sumTotal to be equal to the total cost of food divided by the number of people.
    // toFixed(2) means the result is always rounded and truncated to two decimal places, adding .005 ensures that it will always round up.
  </script>
  <form>

    <input id="inputName" type=text>
    <input type=button onclick="addName()" value="Add Name" />
    <div id="box" ; style="border:1px solid black;width:150px;height:150px;overflow:auto"></div>




    <div class="input-group">
      <input id="inputCost" type="number" placeholder="$" class="form-control" aria-label="Amount (to the nearest dollar)">
      <span class="input-group-addon"></span>
      <input type=button onclick="addFoodItem()" value="Add Food" />
      <div id="boxCost" ; style="border:1px solid black;width:150px;height:150px;overflow:auto"></div>
    </div>

    <div class="standardtips">
      <label>Tip Amount</label><br>
      <input type="number" class="form-control" id="tip" onchange="addTip()">
      <span class="input-group-addon">%</span>
    </div>

    <input type=button onclick="splitTheBill(subTotal)" value="Split the Bill!" />
    <p>Cost per person: <span id="sumTotal"></span></p>



  </form>
</body>

</html>
